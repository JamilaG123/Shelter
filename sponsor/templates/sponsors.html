{% extends 'header.html' %}

{% load staticfiles %}




{% block mainblock %}
<!--file:///static/css/bootstrap.min.css.map%20not%20found-->

<link rel="stylesheet"  type="text/css" href="{% static "css/bootstrap.min.css" %}"/>

<!--
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
-->
 <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


<script src="{% static "js/jquery.min.js" %}"></script>
<script src="{% static "js/bootstrap.min.js" %}"></script>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<div class="container">
	<div class="jumbotron" style="background:white;padding-left: 0px;">
		<style>
			table, th, td
			{
    			border: 1px solid black;
   				border-collapse: collapse;
			}
			th, td
			{
  				padding: 15px;
    			text-align: left;

			}
		</style>

		{% for entry in projects %}
		<div class="w3-card">

				<div id="myCarousel" class="carousel slide" data-ride="carousel">
				<ol class="carousel-indicators">
				{%for img in entry.images%}
					{% if forloop.first %}
						<list class = "active" data-target="#myCarousel" data-slide-to = "{{forloop.counter0}}"></list>
					{%else%}
						<list data-target="#myCarousel" data-slide-to = "{{forloop.counter0}}"></list>
					{% endif %}
				{%endfor%}
				</ol>
				<style>
				.carousel-inner {
    						height: 200px;
    						max-width: 100%;
    						border-radius: 4px;
				}
				.item active > img{
 					height: 220px;
 	 				width:1100px;
 	 				object-fit: contain;
				}
				.item > img{
					height: 220px;
 	 				width: 1100px;
 	 				object-fit: contain;
				}
				</style>
				<div class="carousel-inner">
					{% for img in entry.images%}
						{% if forloop.first%}
							<div class="item active">
								<img src="{{img.image.url}}">
							</div>
						{%else%}
							<div class="item">
								<img src="{{img.image.url}}">
							</div>
						{%endif%}
					{%endfor%}
					<a class="left carousel-control" href="#myCarousel" data-slide="prev">
						<span class="glyphicon glyphicon-chevron-left"></span>
						<span class="sr-only">Previous</span>
					</a>

					<a class="right carousel-control" href="#myCarousel" data-slide="next">
						<span class="glyphicon glyphicon-chevron-right"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>

			<style>
					button.accordion {
    				background-color: #eee;
    				color: #444;
    				cursor: pointer;
    				padding: 18px;
    				width: 100%;
    				border: none;
    				text-align: left;
    				outline: none;
    				font-size: 15px;
    				transition: 0.4s;
					}

					button.accordion.active, button.accordion:hover {
    				background-color: #ccc;
					}

					div.panel {
    					padding: 0 18px;
   	 					display: none;
    					background-color: white;
					}
			</style>

			<button class="accordion"><h4>{{entry.project_Name}}</h4></button>
			<div class = "panel">
				<table id ="SponsorTable"style="width:100%">
					<tr >
						<td align = "left">
							<div  style = "width : 100%; overflow-y:scroll; height:150px;">
							{% block content %}
							{%for slum in entry.slums_in_project%}

								<ul>
								<h5>
									<li>
									<a  href="/{{slum.city_id_encrypted}}/{{slum.name}}">{{slum.name}},{{slum.cityname}} </a><br><br>
									{% for  zipfile in slum.subfields %}
										<ul>
											<li>
												<!--Do add Documents' link-->

												No of households :{{zipfile.household_code|length}}
												{% if zipfile.zip_file %}
													 <a href = "{{zipfile.zip_file.url}}"> zip </a><br>
												{%else%}
													In Progress...<br>
												{%endif%}<br>
											</li>
										</ul>
									{% endfor %}
									</li>
								</h5>
								</ul>

							{% endfor%}
							{% endblock%}
							</div>
						</td>
						<td>
							<div align="center">
								{{entry.start_year.year}}<br>
								Households Impacted : {{entry.households_in_project}}<br> Slums Impacted : {{ entry.slums_in_project|length}}<br>
								{% for doc in entry.documents %}
								{{doc.url}}
									<a href = "{{doc}}"> {{doc.givename}}</a>
								{%endfor%}
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div>
		{% endfor%}
		<script>
				var acc = document.getElementsByClassName("accordion");
				var i;

				for (i = 0; i < acc.length; i++) {
    				acc[i].onclick = function(){
       					this.classList.toggle("active");
        				var panel = this.nextElementSibling;
        				if (panel.style.display === "block") {
            				panel.style.display = "none";
        				} else {
           					panel.style.display = "block";
        				}
    				}
				}
		</script>
	</div>
</div>
{% endblock %}








